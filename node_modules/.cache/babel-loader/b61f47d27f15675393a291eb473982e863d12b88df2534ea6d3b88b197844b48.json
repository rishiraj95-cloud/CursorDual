{"ast":null,"code":"var _jsxFileName = \"C:\\\\Users\\\\rich01\\\\Desktop\\\\CursorDual\\\\src\\\\components\\\\FileUpload.tsx\",\n  _s = $RefreshSig$();\nimport React, { useCallback } from 'react';\nimport { Box, Button, Text, useToast } from '@chakra-ui/react';\nimport Papa from 'papaparse';\nimport { calculateDefectLeakage, calculateCodeCoverage, calculatePerformanceLeakage, calculateBugsPerPhase } from '../utils/calculations';\nimport { jsxDEV as _jsxDEV } from \"react/jsx-dev-runtime\";\nconst FileUpload = ({\n  onDataProcessed\n}) => {\n  _s();\n  const toast = useToast();\n  const processData = results => {\n    try {\n      const data = results.data;\n      const metrics = {\n        defectLeakageRate: calculateDefectLeakage(data),\n        codeCoverage: calculateCodeCoverage(data),\n        performanceLeakage: calculatePerformanceLeakage(data),\n        bugsPerPhase: calculateBugsPerPhase(data)\n      };\n      onDataProcessed(metrics);\n    } catch (error) {\n      toast({\n        title: 'Error processing file',\n        description: 'Please check the file format and try again',\n        status: 'error',\n        duration: 5000\n      });\n    }\n  };\n  const handleFileUpload = useCallback(event => {\n    var _event$target$files;\n    const file = (_event$target$files = event.target.files) === null || _event$target$files === void 0 ? void 0 : _event$target$files[0];\n    if (file) {\n      Papa.parse(file, {\n        complete: processData,\n        header: true,\n        skipEmptyLines: true\n      });\n    }\n  }, []);\n  return /*#__PURE__*/_jsxDEV(Box, {\n    p: 6,\n    borderWidth: 1,\n    borderRadius: \"lg\",\n    children: [/*#__PURE__*/_jsxDEV(Text, {\n      mb: 4,\n      children: \"Upload your QA metrics spreadsheet (CSV format)\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 53,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(\"input\", {\n      type: \"file\",\n      accept: \".csv\",\n      onChange: handleFileUpload,\n      style: {\n        display: 'none'\n      },\n      id: \"file-upload\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 54,\n      columnNumber: 7\n    }, this), /*#__PURE__*/_jsxDEV(Button, {\n      as: \"label\",\n      htmlFor: \"file-upload\",\n      colorScheme: \"blue\",\n      children: \"Choose File\"\n    }, void 0, false, {\n      fileName: _jsxFileName,\n      lineNumber: 61,\n      columnNumber: 7\n    }, this)]\n  }, void 0, true, {\n    fileName: _jsxFileName,\n    lineNumber: 52,\n    columnNumber: 5\n  }, this);\n};\n_s(FileUpload, \"a0x6332T3BtX8CQoYuq4FuN9v9s=\", false, function () {\n  return [useToast];\n});\n_c = FileUpload;\nexport default FileUpload;\nvar _c;\n$RefreshReg$(_c, \"FileUpload\");","map":{"version":3,"names":["React","useCallback","Box","Button","Text","useToast","Papa","calculateDefectLeakage","calculateCodeCoverage","calculatePerformanceLeakage","calculateBugsPerPhase","jsxDEV","_jsxDEV","FileUpload","onDataProcessed","_s","toast","processData","results","data","metrics","defectLeakageRate","codeCoverage","performanceLeakage","bugsPerPhase","error","title","description","status","duration","handleFileUpload","event","_event$target$files","file","target","files","parse","complete","header","skipEmptyLines","p","borderWidth","borderRadius","children","mb","fileName","_jsxFileName","lineNumber","columnNumber","type","accept","onChange","style","display","id","as","htmlFor","colorScheme","_c","$RefreshReg$"],"sources":["C:/Users/rich01/Desktop/CursorDual/src/components/FileUpload.tsx"],"sourcesContent":["import React, { useCallback } from 'react';\r\nimport { Box, Button, Text, useToast } from '@chakra-ui/react';\r\nimport Papa from 'papaparse';\r\nimport { QAMetrics } from '../types';\r\nimport {\r\n  calculateDefectLeakage,\r\n  calculateCodeCoverage,\r\n  calculatePerformanceLeakage,\r\n  calculateBugsPerPhase,\r\n} from '../utils/calculations';\r\n\r\ninterface FileUploadProps {\r\n  onDataProcessed: (metrics: QAMetrics) => void;\r\n}\r\n\r\nconst FileUpload: React.FC<FileUploadProps> = ({ onDataProcessed }) => {\r\n  const toast = useToast();\r\n\r\n  const processData = (results: Papa.ParseResult<any>) => {\r\n    try {\r\n      const data = results.data;\r\n      const metrics: QAMetrics = {\r\n        defectLeakageRate: calculateDefectLeakage(data),\r\n        codeCoverage: calculateCodeCoverage(data),\r\n        performanceLeakage: calculatePerformanceLeakage(data),\r\n        bugsPerPhase: calculateBugsPerPhase(data),\r\n      };\r\n      \r\n      onDataProcessed(metrics);\r\n    } catch (error) {\r\n      toast({\r\n        title: 'Error processing file',\r\n        description: 'Please check the file format and try again',\r\n        status: 'error',\r\n        duration: 5000,\r\n      });\r\n    }\r\n  };\r\n\r\n  const handleFileUpload = useCallback((event: React.ChangeEvent<HTMLInputElement>) => {\r\n    const file = event.target.files?.[0];\r\n    if (file) {\r\n      Papa.parse(file, {\r\n        complete: processData,\r\n        header: true,\r\n        skipEmptyLines: true,\r\n      });\r\n    }\r\n  }, []);\r\n\r\n  return (\r\n    <Box p={6} borderWidth={1} borderRadius=\"lg\">\r\n      <Text mb={4}>Upload your QA metrics spreadsheet (CSV format)</Text>\r\n      <input\r\n        type=\"file\"\r\n        accept=\".csv\"\r\n        onChange={handleFileUpload}\r\n        style={{ display: 'none' }}\r\n        id=\"file-upload\"\r\n      />\r\n      <Button as=\"label\" htmlFor=\"file-upload\" colorScheme=\"blue\">\r\n        Choose File\r\n      </Button>\r\n    </Box>\r\n  );\r\n};\r\n\r\nexport default FileUpload; "],"mappings":";;AAAA,OAAOA,KAAK,IAAIC,WAAW,QAAQ,OAAO;AAC1C,SAASC,GAAG,EAAEC,MAAM,EAAEC,IAAI,EAAEC,QAAQ,QAAQ,kBAAkB;AAC9D,OAAOC,IAAI,MAAM,WAAW;AAE5B,SACEC,sBAAsB,EACtBC,qBAAqB,EACrBC,2BAA2B,EAC3BC,qBAAqB,QAChB,uBAAuB;AAAC,SAAAC,MAAA,IAAAC,OAAA;AAM/B,MAAMC,UAAqC,GAAGA,CAAC;EAAEC;AAAgB,CAAC,KAAK;EAAAC,EAAA;EACrE,MAAMC,KAAK,GAAGX,QAAQ,CAAC,CAAC;EAExB,MAAMY,WAAW,GAAIC,OAA8B,IAAK;IACtD,IAAI;MACF,MAAMC,IAAI,GAAGD,OAAO,CAACC,IAAI;MACzB,MAAMC,OAAkB,GAAG;QACzBC,iBAAiB,EAAEd,sBAAsB,CAACY,IAAI,CAAC;QAC/CG,YAAY,EAAEd,qBAAqB,CAACW,IAAI,CAAC;QACzCI,kBAAkB,EAAEd,2BAA2B,CAACU,IAAI,CAAC;QACrDK,YAAY,EAAEd,qBAAqB,CAACS,IAAI;MAC1C,CAAC;MAEDL,eAAe,CAACM,OAAO,CAAC;IAC1B,CAAC,CAAC,OAAOK,KAAK,EAAE;MACdT,KAAK,CAAC;QACJU,KAAK,EAAE,uBAAuB;QAC9BC,WAAW,EAAE,4CAA4C;QACzDC,MAAM,EAAE,OAAO;QACfC,QAAQ,EAAE;MACZ,CAAC,CAAC;IACJ;EACF,CAAC;EAED,MAAMC,gBAAgB,GAAG7B,WAAW,CAAE8B,KAA0C,IAAK;IAAA,IAAAC,mBAAA;IACnF,MAAMC,IAAI,IAAAD,mBAAA,GAAGD,KAAK,CAACG,MAAM,CAACC,KAAK,cAAAH,mBAAA,uBAAlBA,mBAAA,CAAqB,CAAC,CAAC;IACpC,IAAIC,IAAI,EAAE;MACR3B,IAAI,CAAC8B,KAAK,CAACH,IAAI,EAAE;QACfI,QAAQ,EAAEpB,WAAW;QACrBqB,MAAM,EAAE,IAAI;QACZC,cAAc,EAAE;MAClB,CAAC,CAAC;IACJ;EACF,CAAC,EAAE,EAAE,CAAC;EAEN,oBACE3B,OAAA,CAACV,GAAG;IAACsC,CAAC,EAAE,CAAE;IAACC,WAAW,EAAE,CAAE;IAACC,YAAY,EAAC,IAAI;IAAAC,QAAA,gBAC1C/B,OAAA,CAACR,IAAI;MAACwC,EAAE,EAAE,CAAE;MAAAD,QAAA,EAAC;IAA+C;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAM,CAAC,eACnEpC,OAAA;MACEqC,IAAI,EAAC,MAAM;MACXC,MAAM,EAAC,MAAM;MACbC,QAAQ,EAAErB,gBAAiB;MAC3BsB,KAAK,EAAE;QAAEC,OAAO,EAAE;MAAO,CAAE;MAC3BC,EAAE,EAAC;IAAa;MAAAT,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OACjB,CAAC,eACFpC,OAAA,CAACT,MAAM;MAACoD,EAAE,EAAC,OAAO;MAACC,OAAO,EAAC,aAAa;MAACC,WAAW,EAAC,MAAM;MAAAd,QAAA,EAAC;IAE5D;MAAAE,QAAA,EAAAC,YAAA;MAAAC,UAAA;MAAAC,YAAA;IAAA,OAAQ,CAAC;EAAA;IAAAH,QAAA,EAAAC,YAAA;IAAAC,UAAA;IAAAC,YAAA;EAAA,OACN,CAAC;AAEV,CAAC;AAACjC,EAAA,CAlDIF,UAAqC;EAAA,QAC3BR,QAAQ;AAAA;AAAAqD,EAAA,GADlB7C,UAAqC;AAoD3C,eAAeA,UAAU;AAAC,IAAA6C,EAAA;AAAAC,YAAA,CAAAD,EAAA","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}